var MobileIcon;(function(){function ei(){ri?f=h.Homepage:ui?f=h.Chat:ii?f=h.SERP:fi&&(f=h.ImageCreator)}function oi(){var t,r;rt()?((t=n===null||n===void 0?void 0:n.classList)===null||t===void 0?void 0:t.add("b_hide"),i("overlap")):((r=n===null||n===void 0?void 0:n.classList)===null||r===void 0?void 0:r.remove("b_hide"),Log.Log(e,wt,"resize"))}function rt(){return(nt===null||nt===void 0?void 0:nt.offsetWidth)-((a===null||a===void 0?void 0:a.offsetWidth)+(g===null||g===void 0?void 0:g.offsetWidth)+it)<dt}function r(t){var r=_ge("id_mobpopcntr");(n===null||n===void 0?void 0:n.contains(t===null||t===void 0?void 0:t.target))||(r===null||r===void 0?void 0:r.contains(t===null||t===void 0?void 0:t.target))||i("ClickPage")}function at(n){n.key==="Escape"&&i("EscapeKeydown")}function vt(){hi();n===null||n===void 0?void 0:n.classList.add("active");y=!0;ci();t&&t.focus()}function si(){if(sj_gx){var n=sj_gx(),t=void 0;switch(!0){case ni:t="/header/mobupsellflyvid/?enablevidflyoutl2="+(ti?"1":"0")+"&darkmode="+(ot?"1":"0");break;case gt:t="/header/mobupsellflycn";break;default:t="/header/mobupsellfly"}n.onreadystatechange=function(){n.readyState==4&&n.status==200&&(st=!0,sj_appHTML(a,n.responseText),sb_st(function(){vt()},250))};n.open("GET",t,!0);n.send()}}function hi(){sj_be(_d,"click",r);sj_be(_w,"keydown",at);c&&sj_be(c,"click",r);l&&sj_be(l,"click",r);v&&sj_be(v,"click",r)}function ci(){t=_ge("id_mobpopclose");u=_ge("id_mobpopcta");t&&sj_be(t,"click",pt);t&&sj_be(t,"keypress",yt);t&&sj_be(t,"keydown",p);u&&sj_be(u,"keydown",p)}function p(n){if(n.key==="Tab"){var r=_qs(":focus"),i;r==t?i=u:r==u&&(i=t);i&&(n.preventDefault(),i.focus())}}function i(t){Log.Log(e,ut,t);li();n===null||n===void 0?void 0:n.classList.remove("active");y=!1}function li(){sj_ue(_d,"click",r);sj_ue(_d,"keydown",at);c&&sj_ue(c,"click",r);l&&sj_ue(l,"click",r);v&&sj_ue(v,"click",r);ai()}function ai(){t&&sj_ue(t,"click",pt);t&&sj_ue(t,"keypress",yt);t&&sj_ue(t,"keydown",p);u&&sj_ue(u,"keydown",p)}function yt(){n.focus();i("KeypressCloseBtn")}function pt(){i("ClickCloseBtn")}function vi(){var n=!ht&&yi(wi("V2BubbleTrigger"),7);n&&(bi("V2BubbleTrigger"),Log.Log(e,f,"ShowBubble"))}function yi(n,t){return n<=0||pi(n)>t}function pi(n){return n<=0?Number.MAX_VALUE:Math.floor((Date.now()-n)/864e5)}function wi(n,t){var r,i;return(t===void 0&&(t=0),i=(r=_w.localStorage)===null||r===void 0?void 0:r.getItem(n),i&&i.length)?parseInt(i):t}function bi(n){var t;(t=_w.localStorage)===null||t===void 0?void 0:t.setItem(n,""+Date.now())}var w,b,k,d,e="OpalUpsell",wt="Show",bt="Click",ut="Hide",kt="#id_h",dt=50,ft="Mobile_Icon_Clicked_Key",o,it,ct,lt;(function(n){n.Homepage="14eh0vff_1469qist";n.Chat="14j50x4z_14gp9s2q";n.SERP="14utojb6_14yb1dlu";n.ImageCreator="153yafkj_15at5xma"})(o||(o={}));var h={Homepage:"".concat(o.Homepage),Chat:"".concat(o.Chat),SERP:"".concat(o.SERP),ImageCreator:"".concat(o.ImageCreator)},n=_ge("id_mobile"),s=n?_qs("circle",n):null,c=_qs("#id_l"),l=_qs("#id_rh"),a=_qs("#id_h"),g=_qs("#sb_form"),nt=_qs("#b_header"),v=_qs("#id_sc"),tt=_qs(".b_sydConvMode"),et=_ge("b_sh_btn"),gt=_w.EnableSappUpsellSERPCN,ni=_w.EnableSappUpsellFlyoutVid,ti=_w.EnableSappUpsellFlyoutVidL2,ot=_w.IsDarkMode,ii=_w.IsSERP,ri=_w.IsHomepage,ui=_w.IsChatpage,fi=_w.IsImageCreatorPage,y=!1,st=!1,ht=!1,t,u,f="";ei();sj_evt.bind("bnp.embed.ready",function(n){var r=n[0],t=n[1];t.tar==kt&&(ht=!0,y&&i("BnpConflictDetected"))});it=0;ct=16;et&&(it=et.offsetWidth+ct);Log.Log(e,f,"Show");lt=(w=_w===null||_w===void 0?void 0:_w.localStorage)===null||w===void 0?void 0:w.getItem(ft);lt!="true"&&((b=s===null||s===void 0?void 0:s.classList)===null||b===void 0?void 0:b.remove("b_hide"));sj_evt.bind("hideSydFSC",function(){var t;if(rt()){(t=n===null||n===void 0?void 0:n.classList)===null||t===void 0?void 0:t.add("b_hide");i("overlap");return}},!0);sj_be(_w,"resize",oi);ot&&((k=tt===null||tt===void 0?void 0:tt.classList)===null||k===void 0?void 0:k.add("b_dark"));rt()&&((d=n===null||n===void 0?void 0:n.classList)===null||d===void 0?void 0:d.add("b_hide"),i("overlap"),Log.Log(e,ut,"overlap"));sj_be(n,"click",function(){var n,t;Log.Log("Click","MobileIcon","HeaderMobileIcon_Clicked");Log.Log(e,f,bt);y?i("ClickMobileIcon"):(st?vt():si(),(n=s===null||s===void 0?void 0:s.classList)===null||n===void 0?void 0:n.add("b_hide"),(t=_w.localStorage)===null||t===void 0?void 0:t.setItem(ft,"true"))});vi()})(MobileIcon||(MobileIcon={}))