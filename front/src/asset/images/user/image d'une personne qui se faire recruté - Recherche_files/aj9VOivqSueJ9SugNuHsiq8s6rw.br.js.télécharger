var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},IDBbOv,EIHB,IFrameOverlay;(function(n){function d(n){t.src?t.contentWindow.location.replace(n):t.src=n}function g(){var n=_w.IDPTit;n&&(t.setAttribute("title",n),t.setAttribute("name",n))}function p(n){v=n?at:null}function nt(n){h.parentElement.style.overflow=n?"":"hidden"}function l(n){t.style.display=n?"block":"none"}function tt(){var n=ht(t);n&&PageEvents.logUnload("back",n);p(!1);wt();ot();i="";y||(u||(u=nt),u(!0));l(!1);st();window.focus();r=!1;sj_ue(_d,"keyup",it);sj_ue(_w,"click",rt);e&&sessionStorage.removeItem(c)}function ot(){d(s);t.setAttribute("name",o);i&&t.classList.remove(i)}function st(){sj_evt.fire("IFrame.Close")}function ht(n){try{return n.contentWindow._G.IG}catch(t){return null}}function ct(n,t){var r={type:w,url:n,hiddenParams:t,count:0},i;b?(i=n+"&ajaxhist=0&ajaxserp=0",a.pushState(r,"",i)):_w.location.hash=ft+n+t}function lt(){var i,r=!1,u=_ge(o),f;return u!=null?(t=u,r=!0):(t=sj_ce("iframe",o,"insightsOverlay"),t.setAttribute("data-tag","multimedia.iframeOverlay"),l(!1)),g(),typeof pMMUtils!="undefined"&&pMMUtils.qsv&&(f=(i=pMMUtils.qsv("overlayshw",!0))!==null&&i!==void 0?i:0,f==1&&t.setAttribute("ofv-tag","1")),t.onload=function(){n.showFrame();var t=this;try{(t.src!==s||t.contentWindow&&t.contentWindow.location.href!==s)&&vt()}catch(i){return null}},t.src=s,r||h.appendChild(t),t}function it(n){t&&r&&!t.contains(n.target)&&(sj_sp(n),sj_pd(n),t.focus())}function at(){l(!0)}function vt(){var n=_ge(o);n.contentWindow?n.contentWindow.focus():n.focus()}function yt(){f=sj_ce("div",ut)}function pt(){var n,i=((n=_ge("b_header"))===null||n===void 0?void 0:n.parentNode)===_d.body,t=i?h:_ge("b_content")||h;t.insertBefore(f,t.firstChild)}function wt(){var n=f.parentElement;n&&n.removeChild(f);i&&f.classList.remove(i)}function bt(){return e=typeof IDBbOv!="undefined"&&IDBbOv,k=typeof EIHB!="undefined"&&EIHB,yt(),lt(),kt(),!0}function kt(){b&&et.bind(_w,"popstate",dt,!1);e&&sj_be(_w,"message",gt,!0)}function dt(i){if(i.state&&i.state.url&&i.state.type===w){var f=sessionStorage.getItem(c),u=i.state.count;e&&r&&typeof u!="undefined"&&typeof MMMessenger!="undefined"?u<parseInt(f)?(sessionStorage.setItem(c,u.toString()),MMMessenger.Post(t.contentWindow,"mm.goPrevious","")):MMMessenger.Post(t.contentWindow,"mm.goNext",""):n.show(i.state.url,!1,i.state.hiddenParams)}else r&&(tt(),sj_evt.fire("ajax.state.update",_w.location.href))}function rt(n){if(n&&n.target&&r){var i=n.target;t.contains(i)||typeof MMMessenger!="undefined"&&MMMessenger.Post(t.contentWindow,"mm.prepareClose","")}}function gt(n){var t=typeof MMMessenger!="undefined"?MMMessenger.GetMessageData(n):null;t&&typeof t.data=="number"&&t.command==="mm.closeIFrame"&&(k&&(t.data+=1),a.go(-t.data));t&&(t.command==="onFavDel"||t.command==="onFavAdd"||t.command==="updateReactions")&&sj_evt.fire.apply(sj_evt,__spreadArray([t.command],t.data,!1))}function ni(n){var r,u,f,i,t,e;return n?(r=sj_ce("a"),r.href=n,u=_w.location,f=r.hostname,f&&f!=u.hostname)?null:(i="",t=r.pathname,t&&t.indexOf("/")!=0&&(t="/"+t),(i||t!=u.pathname)&&(i+=t),e=r.search,(i||e!=u.search)&&(i+=e),i):null}function ti(n){if(!n)return null;var t=sj_ce("a");return t.href=n,t.hash}var w="OverlayShow",o="OverlayIFrame",ut="OverlayMask",s="about:blank",ft="#!",a=window.history,b=a.pushState?!0:!1,f,t,e=!1,k=!1,r=!1,i="",v=null,h=_d.body,et=SmartEvent,c="mm.idpstate",y=!1,u=null;n.show=n.show||function(n,o,s,h,a){var v,w;h===void 0&&(h=!1);a===void 0&&(a="");v=ni(n);y=_w.dOSBVC;typeof v=="string"&&v.length>0&&(w=v,s&&(w=v+s),a&&(i="b_"+a,t.classList.add(i),f.classList.add(i)),r||(r=!0,pt(),sj_evt.fire("IFrame.Show"),h||d(w+ti(n)),g(),y||(u||(u=nt),u(!1)),p(!0),sj_be(_d,"keyup",it),sb_ie||(t.style.colorScheme="none",l(!0)),o&&(ct(v,s),e&&sessionStorage.setItem(c,"0")),sj_be(_w,"click",rt)))};n.showFrame=n.showFrame||function(){v&&(v(),p(!1))};n.closeIFrame=n.closeIFrame||function(){tt()};n.setWindowScrollbarVisibilityOverride=n.setWindowScrollbarVisibilityOverride||function(n){u=n};n._i=n._i||bt()})(IFrameOverlay||(IFrameOverlay={}))